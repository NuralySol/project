<!DOCTYPE html>
<html lang="en">
<head>
    <title>Dashboard</title>
</head>
<body>
    <h1>Dashboard</h1>
    <p>Welcome, {{ user.username }}!</p>

    <form method="post" action="{% url 'logout' %}" style="display: inline;">
        {% csrf_token %}
        <button type="submit">Logout</button>
    </form>

    <hr>

    {% if messages %}
        <ul>
            {% for message in messages %}
                <li>{{ message }}</li>
            {% endfor %}
        </ul>
    {% endif %}

    {% if transactions %}
    <h2>Your Transactions</h2>
    <table border="1">
        <thead>
            <tr>
                <th>Date</th>
                <th>Name</th>
                <th>Category</th>
                <th>Amount</th>
            </tr>
        </thead>
        <tbody>
            {% for transaction in transactions %}
            <tr>
                <td>{{ transaction.date }}</td>
                <td>{{ transaction.name }}</td>
                <td>{{ transaction.category }}</td>
                <td>${{ transaction.amount }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <p>No transactions found. Connect to a sandbox item to get started.</p>
    <form method="post" action="{% url 'create_sandbox_item' %}">
        {% csrf_token %}
        <button type="submit">Connect Custom Sandbox</button>
    </form>
    {% endif %}
    
</body>
</html>